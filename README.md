At my work I needed a code that would execute constantly added tasks in parallel.  
At the same time, in order not to load the database, the number of simultaneously executed tasks should be limited.  
A situation may arise where there are no tasks and there is a long waiting period, or, on the contrary, the number of tasks to be executed is very large.  
Since the old .NET 4.0 Framework version is used, many modern .NET features are not used.  
The code was kindly generated by AI `DeepSeek`.  

Sample output:
```console
[03:52:05.011] [Thread:1] MainLoop started. Max slots for tasks: 5.
[03:52:05.011] [Thread:3] Adding 3 tasks.
[03:52:05.019] [Thread:4] Task 1 in slot 1 started.
[03:52:05.019] [Thread:6] Task 3 in slot 3 started.
[03:52:05.019] [Thread:5] Task 2 in slot 2 started.
[03:52:06.020] [Thread:3] Adding 1 tasks.
[03:52:06.020] [Thread:7] Task 4 in slot 4 started.
[03:52:07.022] [Thread:3] Adding 1 tasks.
[03:52:07.022] [Thread:9] Task 5 in slot 5 started.
[03:52:08.022] [Thread:3] No available slots
[03:52:09.023] [Thread:3] No available slots
[03:52:10.024] [Thread:3] No available slots
[03:52:11.024] [Thread:3] No available slots
[03:52:11.929] [Thread:9] Task 5 in slot 5 completed.
[03:52:12.025] [Thread:3] Adding 1 tasks.
[03:52:12.025] [Thread:8] Task 6 in slot 5 started.
[03:52:13.026] [Thread:3] No available slots
[03:52:13.376] [Thread:4] Task 1 in slot 1 completed.
[03:52:13.526] [Thread:7] Task 4 in slot 4 completed.
[03:52:14.027] [Thread:3] Adding 1 tasks.
[03:52:14.027] [Thread:9] Task 7 in slot 1 started.
[03:52:14.148] [Thread:5] Task 2 in slot 2 completed.
[03:52:14.149] [Thread:6] Task 3 in slot 3 completed.
[03:52:15.028] [Thread:3] Adding 1 tasks.
[03:52:15.029] [Thread:5] Task 8 in slot 2 started.
[03:52:16.030] [Thread:3] Adding 2 tasks.
[03:52:16.030] [Thread:6] Task 9 in slot 3 started.
[03:52:16.030] [Thread:7] Task 10 in slot 4 started.
[03:52:16.410] [Thread:5] Task 8 in slot 2 completed.
[03:52:17.030] [Thread:3] Adding 1 tasks.
[03:52:17.030] [Thread:10] Task 11 in slot 2 started.
[03:52:17.550] [Thread:6] Task 9 in slot 3 completed.
[03:52:18.032] [Thread:3] Adding 1 tasks.
[03:52:18.032] [Thread:5] Task 12 in slot 3 started.
[03:52:19.034] [Thread:3] No available slots
[03:52:19.346] [Thread:8] Task 6 in slot 5 completed.
[03:52:20.014] [Thread:1] MainLoop stopping... Waiting for all tasks to complete.
[03:52:22.830] [Thread:10] Task 11 in slot 2 completed.
[03:52:23.192] [Thread:9] Task 7 in slot 1 completed.
[03:52:23.301] [Thread:7] Task 10 in slot 4 completed.
[03:52:26.982] [Thread:5] Task 12 in slot 3 completed.
[03:52:26.982] [Thread:1] MainLoop stopped. All tasks completed.
```
